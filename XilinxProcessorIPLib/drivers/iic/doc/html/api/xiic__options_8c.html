<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   xiic_options.c File Reference
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>xiic_options.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Contains options functions for the <a class="el" href="struct_x_iic.html">XIic</a> component. This file is not required unless the functions in this file are called.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who  Date     Changes
 ----- --- ------- -----------------------------------------------
 1.01b jhl 3/26/02 repartioned the driver
 1.01c ecm 12/05/02 new rev
 1.13a wgr 03/22/07 Converted to new coding style.
 2.00a ktn 10/22/09 Converted all register accesses to 32 bit access.
		     Updated to use the HAL APIs/macros.
 </pre> 
<p>
<code>#include &quot;xiic.h&quot;</code><br>
<code>#include &quot;<a class="el" href="xiic__i_8h.html">xiic_i.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xiic__options_8c.html#5ba0dfd51b706e4cc39c0e6c9cf22706">XIic_SetOptions</a> (<a class="el" href="struct_x_iic.html">XIic</a> *InstancePtr, u32 NewOptions)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xiic__options_8c.html#e8205d4851862a4b966d4598a09dbdbc">XIic_GetOptions</a> (<a class="el" href="struct_x_iic.html">XIic</a> *InstancePtr)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e8205d4851862a4b966d4598a09dbdbc"></a><!-- doxytag: member="xiic_options.c::XIic_GetOptions" ref="e8205d4851862a4b966d4598a09dbdbc" args="(XIic *InstancePtr)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u32 XIic_GetOptions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_x_iic.html">XIic</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>InstancePtr</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function gets the current options for the IIC device. Options control the how the device behaves on the IIC bus. See SetOptions for more information on options.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_iic.html">XIic</a> instance to be worked on.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The options of the IIC device. See xiic.h for a list of available options.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
Options enabled will have a 1 in its appropriate bit position.     </td>
  </tr>
</table>
<a class="anchor" name="5ba0dfd51b706e4cc39c0e6c9cf22706"></a><!-- doxytag: member="xiic_options.c::XIic_SetOptions" ref="5ba0dfd51b706e4cc39c0e6c9cf22706" args="(XIic *InstancePtr, u32 NewOptions)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XIic_SetOptions           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct_x_iic.html">XIic</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>NewOptions</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sets the options for the IIC device driver. The options control how the device behaves relative to the IIC bus. If an option applies to how messages are sent or received on the IIC bus, it must be set prior to calling functions which send or receive data.<p>
To set multiple options, the values must be ORed together. To not change existing options, read/modify/write with the current options using <a class="el" href="xiic__options_8c.html#e8205d4851862a4b966d4598a09dbdbc">XIic_GetOptions()</a>.<p>
<b>USAGE EXAMPLE:</b><p>
Read/modify/write to enable repeated start: <pre>
   u8 Options;
   Options = XIic_GetOptions(&amp;Iic);
   XIic_SetOptions(&amp;Iic, Options | XII_REPEATED_START_OPTION);
 </pre><p>
Disabling General Call: <pre>
   Options = XIic_GetOptions(&amp;Iic);
   XIic_SetOptions(&amp;Iic, Options &amp;= ~XII_GENERAL_CALL_OPTION);
 </pre><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_iic.html">XIic</a> instance to be worked on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>NewOptions</em>&nbsp;</td><td>are the options to be set. See xiic.h for a list of the available options.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
Sending or receiving messages with repeated start enabled, and then disabling repeated start, will not take effect until another master transaction is completed. i.e. After using repeated start, the bus will continue to be throttled after repeated start is disabled until a master transaction occurs allowing the IIC to release the bus. <br>
<br>
 Options enabled will have a 1 in its appropriate bit position.     </td>
  </tr>
</table>
Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 
