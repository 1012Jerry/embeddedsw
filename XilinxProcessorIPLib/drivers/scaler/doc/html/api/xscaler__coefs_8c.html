<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   xscaler_coefs.c File Reference
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>xscaler_coefs.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains Lanczos coefficient generation for use in the Xilinx Video Scaler.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who  Date     Changes
 ----- ---- -------- -------------------------------------------------------
 1.00a xd   06/15/09 First release. Coefficients are auto-generated in
		      Matlab using
		      /Video_Scaler/reference_model/src/CreateCoefficients.m
 2.00a xd   12/14/09 Updated doxygen document tags
 5.00a mpv  12/13/13 Updated to dynamic coeff generation to reduce driver size
 </pre> 
<p>
<code>#include &quot;xscaler.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xscaler__coefs_8c.html#3a372b04b95323b72c2b2f9a5d24e67b">PI</a>&nbsp;&nbsp;&nbsp;3.14159265358979</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xscaler__coefs_8c.html#b0bbedc4503e2d230bed1d89d17ea471">XScaler_Sine</a> (float x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xscaler__coefs_8c.html#439be878dc544121303b2e194a30794b">XScaler_GetLanczosCoeffs</a> (float p, short int icoeffs[], int NCOEFF)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">s16 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xscaler__coefs_8c.html#f9123ecb579b5a0210deb53c80ca2947">XScaler_GenCoefTable</a> (u32 Tap, u32 Phase)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xscaler__coefs_8c.html#f55b6f0bc824b7b43d0c450e3b6f2675">XScaler_CoefficientBinScalingFactors</a> [XSCL_NUM_COEF_BINS]</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="3a372b04b95323b72c2b2f9a5d24e67b"></a><!-- doxytag: member="xscaler_coefs.c::PI" ref="3a372b04b95323b72c2b2f9a5d24e67b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define PI&nbsp;&nbsp;&nbsp;3.14159265358979          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
XScaler_GenCoefTable generates a table that contains the coefficient values for scaling operations <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Tap</em>&nbsp;</td><td>is the number of taps configured </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Phase</em>&nbsp;</td><td>is the number of phase configured the Scaler device. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>XScaler_coef_table</dd></dl>
new coef generation************     </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="f9123ecb579b5a0210deb53c80ca2947"></a><!-- doxytag: member="xscaler_coefs.c::XScaler_GenCoefTable" ref="f9123ecb579b5a0210deb53c80ca2947" args="(u32 Tap, u32 Phase)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">s16* XScaler_GenCoefTable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Tap</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>u32&nbsp;</td>
          <td class="mdname" nowrap> <em>Phase</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
XScaler_GenCoefTable generates XScaler_coef_table containing the coefficient values for scaling operations     </td>
  </tr>
</table>
<a class="anchor" name="439be878dc544121303b2e194a30794b"></a><!-- doxytag: member="xscaler_coefs.c::XScaler_GetLanczosCoeffs" ref="439be878dc544121303b2e194a30794b" args="(float p, short int icoeffs[], int NCOEFF)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void XScaler_GetLanczosCoeffs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname" nowrap> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>short int&nbsp;</td>
          <td class="mdname" nowrap> <em>icoeffs</em>[], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>NCOEFF</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This coefficient generation algorithm implements the Lanczos coefficients: <a href="http://en.wikipedia.org/wiki/Lanczos_resampling">http://en.wikipedia.org/wiki/Lanczos_resampling</a> For a particular scaling ratio, the coefficients can be pre-canned to memory     </td>
  </tr>
</table>
<a class="anchor" name="b0bbedc4503e2d230bed1d89d17ea471"></a><!-- doxytag: member="xscaler_coefs.c::XScaler_Sine" ref="b0bbedc4503e2d230bed1d89d17ea471" args="(float x)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">float XScaler_Sine           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>x</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sine generation This Sine generation algorithm implements Taylor series decomposition of the Sine function according to <a href="http://en.wikipedia.org/wiki/Taylor_series#Approximation_and_convergence">http://en.wikipedia.org/wiki/Taylor_series#Approximation_and_convergence</a>     </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="f55b6f0bc824b7b43d0c450e3b6f2675"></a><!-- doxytag: member="xscaler_coefs.c::XScaler_CoefficientBinScalingFactors" ref="f55b6f0bc824b7b43d0c450e3b6f2675" args="[XSCL_NUM_COEF_BINS]" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">u16 <a class="el" href="xscaler__coefs_8c.html#f55b6f0bc824b7b43d0c450e3b6f2675">XScaler_CoefficientBinScalingFactors</a>[XSCL_NUM_COEF_BINS]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
        20000,
        625,
        1250,
        1875,
        2500,
        3125,
        3750,
        4375,
        5000,
        5625,
        6250,
        6875,
        7500,
        8125,
        8750,
        9375,
        10000,
        10000,
        6666
}
</pre></div>XScaler_CoefficientsBinScalingFactors contains scaling factors calculated using (Output_Size * 10000 / Input_Size). This table could help find the index of coefficient Bin given an input size and a output size.     </td>
  </tr>
</table>
Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 
