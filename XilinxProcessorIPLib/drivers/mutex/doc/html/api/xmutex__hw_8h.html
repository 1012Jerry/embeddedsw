<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   xmutex_hw.h File Reference
</title>
<link href="$DriverApiDocsCssPath" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>xmutex_hw.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
This header file contains identifiers/definitions and macros that can be used to access the device. The user should refer to the hardware device specification for more details of the device operation. The driver functions are defined in xmutex.h.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who  Date     Changes
 ----- ---- -------- -----------------------------------------------
 1.00a va            First release
 1.00a ecm  06/01/07 Cleanup, new coding standard, check into XCS
 3.00a hbm  10/15/09 Migrated to HAL phase 1 to use xil_io, xil_types,
			and xil_assert.
 </pre> 
<p>
<code>#include &quot;xil_io.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Register Offset Definitions</h2></td></tr>
<tr><td colspan="2">Register offsets within a Mutex, there are multiple Mutexes within a single device <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a523470c9ee0a5b3684cd6bae8c8d013">XMU_MUTEX_REG_OFFSET</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#7292f56c48208381c8070d405d20052b">XMU_USER_REG_OFFSET</a>&nbsp;&nbsp;&nbsp;4</td></tr>

<tr><td colspan="2"><br><h2>Mutex Register Bit Definitions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#4fc77b2601b1ea7abdfb64a06b1cd1fb">LOCKED_BIT</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#cfe4cc17f438ed2613082cd60f49fc4d">OWNER_MASK</a>&nbsp;&nbsp;&nbsp;0x000001FE</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#8ec2c7708e3b28590514f57108cd3a81">OWNER_SHIFT</a>&nbsp;&nbsp;&nbsp;0x00000001</td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#a816305f630601c4d710b9f3e808bf51">XMutex_ReadReg</a>(BaseAddress, MutexNumber, RegOffset)&nbsp;&nbsp;&nbsp;Xil_In32((BaseAddress) + XMutex_Offset(MutexNumber) + (RegOffset))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xmutex__hw_8h.html#6758828f46a00f7d7f996c710711622f">XMutex_WriteReg</a>(BaseAddress, MutexNumber, RegOffset, ValueToWrite)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="4fc77b2601b1ea7abdfb64a06b1cd1fb"></a><!-- doxytag: member="xmutex_hw.h::LOCKED_BIT" ref="4fc77b2601b1ea7abdfb64a06b1cd1fb" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define LOCKED_BIT&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the Lock bit. Set to 1 indicates that the lock is currently owned by the processor ID specified by the CPU_ID (OWNER_MASK) in this register. Set to 0 indicates that the lock is free.     </td>
  </tr>
</table>
<a class="anchor" name="cfe4cc17f438ed2613082cd60f49fc4d"></a><!-- doxytag: member="xmutex_hw.h::OWNER_MASK" ref="cfe4cc17f438ed2613082cd60f49fc4d" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define OWNER_MASK&nbsp;&nbsp;&nbsp;0x000001FE          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is CPU_ID Mask. CPU_ID indicates the ID the processor holding the lock.     </td>
  </tr>
</table>
<a class="anchor" name="8ec2c7708e3b28590514f57108cd3a81"></a><!-- doxytag: member="xmutex_hw.h::OWNER_SHIFT" ref="8ec2c7708e3b28590514f57108cd3a81" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define OWNER_SHIFT&nbsp;&nbsp;&nbsp;0x00000001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is CPU_ID Shift     </td>
  </tr>
</table>
<a class="anchor" name="a523470c9ee0a5b3684cd6bae8c8d013"></a><!-- doxytag: member="xmutex_hw.h::XMU_MUTEX_REG_OFFSET" ref="a523470c9ee0a5b3684cd6bae8c8d013" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define XMU_MUTEX_REG_OFFSET&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mutex register     </td>
  </tr>
</table>
<a class="anchor" name="7292f56c48208381c8070d405d20052b"></a><!-- doxytag: member="xmutex_hw.h::XMU_USER_REG_OFFSET" ref="7292f56c48208381c8070d405d20052b" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define XMU_USER_REG_OFFSET&nbsp;&nbsp;&nbsp;4          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
User register     </td>
  </tr>
</table>
<a class="anchor" name="a816305f630601c4d710b9f3e808bf51"></a><!-- doxytag: member="xmutex_hw.h::XMutex_ReadReg" ref="a816305f630601c4d710b9f3e808bf51" args="(BaseAddress, MutexNumber, RegOffset)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define XMutex_ReadReg          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BaseAddress,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>MutexNumber,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>RegOffset&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;Xil_In32((BaseAddress) + XMutex_Offset(MutexNumber) + (RegOffset))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read one of the Mutex registers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>BaseAddress</em>&nbsp;</td><td>contains the base address of the Mutex device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MutexNumber</em>&nbsp;</td><td>contains the specific Mutex within the device, a zero based number, 0 - (NumMutexConfigured in HW - 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegOffset</em>&nbsp;</td><td>contains the offset from the 1st register of the Mutex to select the specific register of the Mutex.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>The 32 bit value read from the register.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>C-style signature: u32 XMutex_ReadReg(u32 BaseAddress, u8 MutexNumber, unsigned RegOffset) </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="6758828f46a00f7d7f996c710711622f"></a><!-- doxytag: member="xmutex_hw.h::XMutex_WriteReg" ref="6758828f46a00f7d7f996c710711622f" args="(BaseAddress, MutexNumber, RegOffset, ValueToWrite)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define XMutex_WriteReg          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">BaseAddress,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>MutexNumber,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>RegOffset,         <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>ValueToWrite&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">Xil_Out32(((BaseAddress) + XMutex_Offset(MutexNumber) +            \
                        (RegOffset)), (ValueToWrite))
</pre></div>Write a specified value to a register of a Mutex.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>BaseAddress</em>&nbsp;</td><td>is the base address of the Mutex device. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>MutexNumber</em>&nbsp;</td><td>is the specific Mutex within the device, a zero based number, 0 - (NumMutexConfigured in HW - 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegOffset</em>&nbsp;</td><td>contain the offset from the 1st register of the Mutex to select the specific register of the Mutex. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ValueToWrite</em>&nbsp;</td><td>is the 32 bit value to be written to the register.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>C-style signature: void XMutex_WriteReg(u32 BaseAddress, u8 MutexNumber, unsigned RegOffset, u32 ValueToWrite) </dd></dl>
    </td>
  </tr>
</table>
Copyright @ 1995-2014 Xilinx, Inc. All rights reserved. 
